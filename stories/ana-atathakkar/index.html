<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>Ø£Ù†Ø§ Ø£ØªØ°ÙƒÙ‘Ø± â€“ ØµÙØ­Ø© 1</title>

  <!-- Ø±Ø¨Ø· Ø§Ù„Ø³ØªØ§ÙŠÙ„ Ø§Ù„Ø¹Ø§Ù… -->
  <link rel="stylesheet" href="../../styles.css">

  <style>
    .story-page {
      position: relative;
      max-width: 900px;
      margin: 20px auto;
    }

    .page-img {
      width: 100%;
      display: block;
    }

    .text-layer {
      position: absolute;
      inset: 0;
      direction: rtl;
    }

    .word {
      position: absolute;
      padding: 4px 8px;
      border-radius: 6px;
      cursor: pointer;
      color: transparent;
      background: transparent;
    }

   .word.active {
  background: rgba(255, 235, 59, 0.7);
  border-radius: 999px;   /* ğŸ‘ˆ Ù‡Ø°Ø§ Ø§Ù„Ø³Ø± */
  padding: 4px 12px;
}

  </style>
</head>

<body>

  <div class="story-page">
    <img src="./page-01.png" class="page-img" alt="ØµÙØ­Ø© Ø§Ù„Ù‚ØµØ©">
    <div class="text-layer" id="textLayer"></div>
  </div>

  <div style="text-align:center; margin-top:10px;">
    <button onclick="playSequence()">â–¶ ØªØ´ØºÙŠÙ„ Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©</button>
    <button onclick="clearHighlight()">Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ¸Ù„ÙŠÙ„</button>
  </div>

  <script>
    const words = [
      // Ø§Ù„Ø³Ø·Ø± Ø§Ù„Ø£ÙŠÙ…Ù†
      { text: "Ø£ØªØ°ÙƒÙ‘Ø±Ù", top: "7%", left: "90%", time: 0 },
      { text: "Ø¬Ø¯Ù‘ÙŠ", top: "7%", left: "85%", time: 900 },
      { text: "ÙˆØ£Ø´ØªØ§Ù‚Ù", top: "7%", left: "80%", time: 1800 },
      { text: "Ø¥Ù„ÙŠÙ‡.", top: "7%", left: "75%", time: 2700 },

      // Ø§Ù„Ø³Ø·Ø± Ø§Ù„Ø£ÙŠØ³Ø±
      { text: "Ø£ØªØ°ÙƒÙ‘Ø±Ù", top: "7%", left: "38%", time: 3800 },
      { text: "ÙˆØ¬Ù‡ÙÙ‡ØŒ", top: "7%", left: "30%", time: 4700 },
      { text: "ÙˆØ¶Ø­ÙƒØªÙÙ‡ØŒ", top: "7%", left: "20%", time: 5600 },
      { text: "ÙˆØ´Ø§Ø±Ø¨ÙÙŠÙ‡.", top: "7%", left: "10%", time: 6500 }
    ];

    const layer = document.getElementById("textLayer");
    let wordEls = [];

    words.forEach(w => {
      const span = document.createElement("span");
      span.textContent = w.text;
      span.className = "word";
      span.style.top = w.top;
      span.style.left = w.left;

      // Ù†Ø­ØªÙØ¸ Ø¨Ø§Ù„ÙˆÙ‚Øª
      span.dataset.time = w.time;

      // Ø§Ù„Ù†Ù‚Ø± Ø§Ù„ÙŠØ¯ÙˆÙŠ
      span.onclick = () => {
        clearHighlight();
        span.classList.add("active");
      };

      layer.appendChild(span);
      wordEls.push(span);
    });

    function clearHighlight() {
      wordEls.forEach(w => w.classList.remove("active"));
    }

    function playSequence() {
      clearHighlight();

      wordEls.forEach(word => {
        const t = parseInt(word.dataset.time, 10);

        setTimeout(() => {
          clearHighlight();
          word.classList.add("active");
        }, t);
      });
    }
  </script>

</body>
</html>
