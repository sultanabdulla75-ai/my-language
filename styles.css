

:root{
  --ink:#0f172a; --muted:#64748b;
  --grad:linear-gradient(120deg,#f9fbff 0%,#f7f7ff 50%,#fff6fb 100%);
  --card:#ffffff; --glass:rgba(255,255,255,.6); --blur:10px; --border:#e7eaf1;
  --pill:#eef2ff; --pill-active:#dbeafe;
  --blue:#2563eb; --sky:#06b6d4; --vio:#8b5cf6; --orange:#f59e0b; --green:#10b981;
  --ok:#16a34a; --warn:#f59e0b; --err:#ef4444;
}
*{box-sizing:border-box;font-family:"Cairo","Tajawal",sans-serif}
body{margin:0;background:var(--grad);color:var(--ink);direction:rtl}
.hidden{display:none !important}
.glass{background:var(--glass);backdrop-filter:blur(var(--blur))}
.center-stage{min-height:100vh;display:grid;place-items:center;padding:2rem}

/* ===== Topbar ===== */
.topbar{position:sticky;top:0;z-index:20;background:linear-gradient(180deg,rgba(255,255,255,.9),rgba(255,255,255,.6));backdrop-filter:blur(8px);border-bottom:1px solid var(--border)}
.nav{max-width:1200px;margin:auto;display:flex;align-items:center;justify-content:space-between;padding:.6rem 1rem}
.brand-logo{width:28px;height:28px;margin-inline-end:.4rem;filter:grayscale(.2)}
.brand-title{font-weight:800}
.nav-center{display:flex;gap:.4rem;flex-wrap:wrap;justify-content:center}
.chip{border:none;border-radius:999px;padding:.45rem .9rem;font-weight:800;cursor:pointer}
.chip.ghost{background:#fff;border:1px solid var(--border)}

/* ===== Auth ===== */
.auth-card{max-width:760px;width:96%;border:1px solid var(--border);border-radius:22px;padding:22px;box-shadow:0 18px 48px rgba(0,0,0,.08)}
.hero h1{margin:0}
.form{margin-top:.6rem}
.form-row{margin:.55rem 0}
.form-row label{display:block;margin-bottom:.25rem;font-weight:800}
.form-row input,.form-row select,.form-row textarea{width:100%;border:1px solid var(--border);border-radius:12px;padding:.6rem .8rem;background:#fff}
.row2{display:grid;grid-template-columns:1fr 1fr;gap:.6rem}
.msg{color:#ef4444;font-weight:800}
.tabs-inline{display:flex;gap:.4rem;flex-wrap:wrap;margin:.2rem 0}
.pill{background:var(--pill);border:none;border-radius:999px;padding:.35rem .8rem;cursor:pointer;font-weight:800}
.pill.active{background:var(--pill-active)}

/* ===== App ===== */
.app{max-width:1200px;margin:1rem auto;display:grid;grid-template-columns:1fr 320px;gap:1rem;min-height:calc(100vh - 80px)}
.stage{display:block}

/* توزيع الأعمدة: الريل يمين + المحتوى يسار */
#appShell {
  display: grid;
  grid-template-columns: 280px 1fr;  /* ← عرض الريل ثابت، والمحتوى يأخذ الباقي */
  gap: 1.2rem;
}

/* السكة اليمنى */
.rail {
  order: 1;
  position: sticky;
  top: 86px;
  height: max-content;
}

/* منطقة المحتوى */
.stage {
  order: 2;
  width: 100%;
}




.profile-card,.score-card{border:1px solid var(--border);border-radius:18px;padding:12px;box-shadow:0 10px 26px rgba(0,0,0,.06)}
.profile-card{display:flex;align-items:center;gap:.7rem}
.avatar{font-size:36px}
.pname strong{font-weight:800}
.score-row{display:flex;justify-content:space-between;padding:.4rem 0;border-bottom:1px dashed var(--border)}
.score-row:last-child{border-bottom:0}

.section-header{display:flex;justify-content:space-between;align-items:center;margin:.4rem 0 .6rem}
.search{border:1px solid var(--border);border-radius:12px;padding:.55rem .7rem;width:260px;background:#fff}
.cards-4{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:.8rem}
.card{background:var(--card);border:1px solid var(--border);border-radius:18px;padding:14px;box-shadow:0 10px 24px rgba(0,0,0,.06)}
.card.action{text-align:center}
.card.action .icon{font-size:32px;margin-bottom:.4rem}
.cards-3{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:.8rem}

.btn{border:none;border-radius:16px;padding:.6rem .95rem;cursor:pointer;font-weight:800;color:#fff;box-shadow:0 10px 20px rgba(0,0,0,.06);transition:.25s;background:linear-gradient(90deg,#f97316,#f59e0b)}
.btn:hover{transform:translateY(-1px)}
.btn.ghost{background:#fff;border:1px solid var(--border);color:#fff0}
.btn.ghost{color:var(--ink)}
.btn.primary{background:linear-gradient(90deg,#7c3aed,#a78bfa)}
.btn.sky{background:linear-gradient(90deg,#06b6d4,#22d3ee)}
.btn.vio{background:linear-gradient(90deg,#8b5cf6,#a78bfa)}
.btn.em{background:linear-gradient(90deg,#10b981,#34d399)}
.btn.small{padding:.38rem .7rem;border-radius:12px;font-size:.92rem}

.grid{display:grid;gap:.9rem}
.grid.levels{grid-template-columns:repeat(auto-fit,minmax(190px,1fr))}
.grid.books{grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}
.level-card,.book-card{background:#fff;border:1px solid var(--border);border-radius:16px;padding:1rem;box-shadow:0 4px 12px rgba(0,0,0,.05);transition:.2s;cursor:pointer;text-align:center}
.level-card:hover,.book-card:hover{transform:translateY(-2px)}
.badge{display:inline-block;border-radius:8px;padding:.15rem .5rem;font-size:.82rem;font-weight:800}
.badge.ok{background:#dcfce7;color:#065f46}
.badge.warn{background:#fef9c3;color:#92400e}
.badge.err{background:#fee2e2;color:#991b1b}

/* Assignments */
.assign-list{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:.9rem}
.assign-card{background:#fff;border:1px solid var(--border);border-radius:16px;padding:12px;box-shadow:0 4px 10px rgba(0,0,0,.04)}
.assign-card .meta{display:flex;justify-content:space-between;color:var(--muted);font-size:.92rem;margin:.25rem 0}
.progress{height:8px;background:#e5e7eb;border-radius:6px;overflow:hidden}
.progress>i{display:block;height:8px;background:linear-gradient(90deg,#8b5cf6,#22d3ee)}

/* Tables */
.table{background:#fff;border:1px solid var(--border);border-radius:16px;overflow:hidden;margin-top:.9rem}
/* تم التعديل لتصبح 4 أعمدة فقط: الاسم، البريد، الفصل، إجراءات */
.table .thead,.table .tbody .row{display:grid;grid-template-columns: 1.5fr 2fr 1fr 1fr; gap:.6rem;align-items:center;padding:.6rem .8rem}.table .thead{background:#f8fafc;border-bottom:1px solid var(--border);font-weight:800}
.tbody .row{border-bottom:1px solid #f1f5f9}
.actions{display:flex;gap:.4rem;flex-wrap:wrap}

/* Reader */
.reader{max-width:900px;margin:auto;padding:1rem}
.reader-top{display:flex;justify-content:space-between;align-items:center;gap:.6rem;margin:.6rem auto 1rem;max-width:900px}
.level-chip{background:#eef2ff;color:#1d4ed8;padding:.25rem .6rem;border-radius:999px;font-weight:800}
.story-meta{display:flex;gap:1rem;align-items:center;margin:.6rem 0}
.story-cover{border-radius:12px;box-shadow:0 3px 8px rgba(0,0,0,.15)}
.hints{color:#475569}
.story-content p{background:#fff;border:1px solid var(--border);border-radius:12px;padding:.95rem;line-height:2;font-size:1.08rem;margin:.7rem 0}
.story-content span{cursor:pointer;padding:2px 4px;border-radius:6px;transition:.2s}
.story-content span.highlighted{background:#fef08a}
.story-actions{display:flex;align-items:center;gap:.6rem;margin:1rem 0}

/* Modal */
.modal.hidden{display:none}
.modal{position:fixed;inset:0;background:rgba(0,0,0,.4);display:flex;align-items:center;justify-content:center;z-index:1000}
.modal-card{background:#fff;border-radius:14px;padding:1rem;width:90%;max-width:520px}
.modal-close{border:none;background:transparent;color:#ef4444;float:left;font-size:20px;cursor:pointer}
.checklist{display:flex;flex-wrap:wrap;gap:.5rem}
.checklist label{border:1px solid var(--border);padding:.35rem .6rem;border-radius:10px;display:flex;align-items:center;gap:.4rem}


.donut-card {
  max-width: 360px;
  margin: 20px auto;
  padding: 20px;
  border-radius: 16px;
  background: white;
  box-shadow: 0 4px 16px rgba(0,0,0,0.06);
}



.google-btn {
  background: white;
  border: 1px solid #ddd;
  padding: 10px 18px;
  border-radius: 8px;
  font-size: 16px;
  cursor: pointer;
  width: 100%;
  display: flex;
  gap: 10px;
  align-items: center;
  justify-content: center;
  transition: 0.2s;
}

.google-btn:hover {
  background: #f5f5f5;
}

/* Responsive */
@media (max-width:900px){ 
  .app{grid-template-columns:1fr} 
  .rail{position:static} 
  .row2{grid-template-columns:1fr}
}

/* ===== قواعد خاصة للمعلم ===== */
.only-teacher {
  display: none;
}

/* ===== Avatar (موحّد) ===== */
.avatar-img {
  width: 56px;
  height: 56px;
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid #e5e7eb;
  background-color: #fff;
  flex-shrink: 0;
}

